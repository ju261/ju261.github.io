/* ================================================== */
/* ==    Dashboard & Login - Style Sheet (v3)      == */
/* ==    Korrigierte Version für Theme/Akzent      == */
/* ================================================== */

/* --- CSS Variablen Definition --- */
:root {
    /* Helles Theme (Standard) */
    --primary-color-base: #0078D7; /* Originale Primärfarbe, wichtig als Basis */
    --text-color-base: #323130; /* Originale Textfarbe */
    --border-radius: 6px;
    --transition-speed: 0.3s;
    --transition-func: ease;
    /* KORREKTUR: Ursprüngliche Schriftart wiederhergestellt */
    --font-family: "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif;

    /* --- Variablen für Theme/Akzent (werden dynamisch angepasst) --- */
    --accent-color: var(--primary-color-base); /* Standard Akzent = Basis Primär */
    --bg-color: #f8f9fa; /* Heller Hintergrund */
    --text-color: var(--text-color-base); /* Heller Text */
    --text-muted-color: #6c757d; /* Heller gedämpfter Text */
    --panel-bg: #ffffff; /* Heller Panel/Modal BG */
    --card-bg-color: #ffffff; /* Heller Dashboard-Karten BG */
    --border-color: #dee2e6; /* Heller Rand */
    --border-color-light: #e9ecef; /* Heller heller Rand */
    --input-bg: #ffffff; /* Heller Input BG */
    --input-border: #ced4da; /* Heller Input Rand */
    --button-bg: #ffffff; /* Heller Settings-Button BG */
    --button-hover-bg: #e9ecef; /* Heller Settings-Button Hover BG */
    --card-shadow: rgba(0, 0, 0, 0.1); /* Heller Schatten */
    --panel-shadow: rgba(0, 0, 0, 0.15); /* Heller Panel Schatten */
    --fieldset-border: #dee2e6; /* Heller Fieldset Rand */
    --modal-overlay-bg: rgba(0, 0, 0, 0.55); /* Heller Overlay BG */
    --link-color: var(--accent-color); /* Heller Link */
    --bg-gradient: linear-gradient(145deg, #eaf6ff 0%, #f5f5fa 100%); /* Original Gradient für Light */
}

/* --- Dunkles Theme Variablen --- */
body.dark-mode {
    /* --accent-color: #4dabf7; */ /* <<< Diese Zeile MUSS entfernt/auskommentiert bleiben! */

    --bg-color: #212529; /* Dunkler Hintergrund */
    --text-color: #e9ecef; /* Dunkler Text */
    --text-muted-color: #adb5bd; /* Dunkler gedämpfter Text */
    --panel-bg: #343a40; /* Dunkler Panel/Modal BG */
    --card-bg-color: #343a40; /* Dunkler Dashboard-Karten BG */
    --border-color: #495057; /* Dunkler Rand */
    --border-color-light: #343a40; /* Dunkler heller Rand */
    --input-bg: #495057; /* Dunkler Input BG */
    --input-border: #6c757d; /* Dunkler Input Rand */
    --button-bg: #495057; /* Dunkler Settings-Button BG */
    --button-hover-bg: #5a6268; /* Dunkler Settings-Button Hover BG */
    --card-shadow: rgba(0, 0, 0, 0.4); /* Dunkler Schatten */
    --panel-shadow: rgba(0, 0, 0, 0.3); /* Dunkler Panel Schatten */
    --fieldset-border: #495057; /* Dunkler Fieldset Rand */
    --modal-overlay-bg: rgba(0, 0, 0, 0.7); /* Dunkler Overlay BG */
    --link-color: var(--accent-color); /* Dunkler Link nutzt globale Akzentfarbe */
    /* --bg-gradient: ... */ /* Optional: Eigenen Gradient für Dark Mode definieren */
}

/* --- Grundlegende Stile --- */
body {
    font-family: var(--font-family); /* KORREKTUR: Wendet die definierte Variable an */
    line-height: 1.6;
    background-color: var(--bg-color); /* Basis-Hintergrund für beide Themes */
    color: var(--text-color);
    margin: 0;
    padding: 0;
    min-height: 100vh;
    position: relative;
    transition: background-color var(--transition-speed) var(--transition-func),
                color var(--transition-speed) var(--transition-func);
}
/* KORREKTUR: Gradient nur im Light Mode hinzufügen (oder ganz weglassen) */
body:not(.dark-mode) {
    background-image: var(--bg-gradient);
    background-attachment: fixed; /* Verhindert, dass Gradient scrollt */
}

h1 {
    color: var(--accent-color);
    text-align: center;
    margin-bottom: 1.5em;
     transition: color var(--transition-speed) var(--transition-func);
}

/* --- Login Seite Styles (Unverändert) --- */
.login-container { max-width: 400px; margin: 80px auto; padding: 30px 40px; background-color: var(--panel-bg); border-radius: var(--border-radius); box-shadow: 0 4px 15px var(--panel-shadow); border: 1px solid var(--border-color); transition: background-color var(--transition-speed) var(--transition-func), box-shadow var(--transition-speed) var(--transition-func), border-color var(--transition-speed) var(--transition-func); }
.login-container h1 { margin-top: 0; margin-bottom: 1em; font-size: 1.8em; }
.form-group { margin-bottom: 20px; }
.form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-muted-color); }
.form-group input[type="text"], .form-group input[type="password"] { width: 100%; padding: 10px 12px; border: 1px solid var(--input-border); background-color: var(--input-bg); color: var(--text-color); border-radius: var(--border-radius); box-sizing: border-box; font-size: 1em; transition: border-color var(--transition-speed) var(--transition-func), background-color var(--transition-speed) var(--transition-func), color var(--transition-speed) var(--transition-func); }
.form-group input[type="text"]:focus, .form-group input[type="password"]:focus { outline: none; border-color: var(--accent-color); box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-color) 20%, transparent); }
#loginButton { width: 100%; padding: 12px 20px; background-color: var(--accent-color); color: white; border: none; border-radius: var(--border-radius); font-size: 1.1em; font-weight: 600; cursor: pointer; transition: background-color var(--transition-speed) var(--transition-func), transform var(--transition-speed) var(--transition-func); }
#loginButton:hover { background-color: color-mix(in srgb, var(--accent-color) 85%, black); }
#loginButton:active { transform: scale(0.98); }
.error-message { color: #dc3545; margin-top: 15px; font-weight: 500; min-height: 1.2em; text-align: center; }
.security-warning { font-size: 0.85em; color: var(--text-muted-color); text-align: center; margin-top: 25px; border-top: 1px dashed var(--border-color); padding-top: 15px; }

/* --- Dashboard Seite Styles (Unverändert) --- */
.dashboard-container { max-width: 1200px; margin: 0 auto; padding: 40px; padding-top: 80px; }
.dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; }
.dashboard-card { background-color: var(--card-bg-color); border-radius: var(--border-radius); padding: 25px; box-shadow: 0 3px 10px var(--card-shadow); border: 1px solid var(--border-color); text-decoration: none; color: var(--text-color); transition: transform var(--transition-speed) var(--transition-func), box-shadow var(--transition-speed) var(--transition-func), background-color var(--transition-speed) var(--transition-func), border-color var(--transition-speed) var(--transition-func); display: flex; flex-direction: column; align-items: center; text-align: center; }
.dashboard-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px var(--panel-shadow); border-color: var(--accent-color); }
.dashboard-card .card-icon { font-size: 2.5em; color: var(--accent-color); margin-bottom: 15px; transition: color var(--transition-speed) var(--transition-func); }
.dashboard-card h2 { margin-top: 0; margin-bottom: 10px; font-size: 1.3em; color: var(--text-color); transition: color var(--transition-speed) var(--transition-func); }
.dashboard-card p { margin-top: 0; margin-bottom: 0; font-size: 0.95em; color: var(--text-muted-color); flex-grow: 1; transition: color var(--transition-speed) var(--transition-func); }

/* --- Styles für Einstellungsbutton (Unverändert) --- */
.top-right-buttons { position: fixed; top: 20px; right: 20px; display: flex; gap: 10px; z-index: 1050; }
.settings-button { background-color: var(--button-bg); border: 1px solid var(--border-color); color: var(--text-muted-color); border-radius: 50%; width: 45px; height: 45px; font-size: 1.2em; cursor: pointer; box-shadow: 0 2px 8px var(--card-shadow); display: flex; align-items: center; justify-content: center; transition: background-color var(--transition-speed) var(--transition-func), box-shadow var(--transition-speed) var(--transition-func), color var(--transition-speed) var(--transition-func), border-color var(--transition-speed) var(--transition-func); padding: 0; line-height: 1; }
.settings-button:hover { background-color: var(--button-hover-bg); box-shadow: 0 4px 12px var(--panel-shadow); color: var(--accent-color); }
.settings-button .fa-cog { transition: transform 0.4s ease-in-out; }
.settings-button:hover .fa-cog { transform: rotate(90deg); }

/* --- Styles für Einstellungs-Modal (Unverändert) --- */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--modal-overlay-bg); z-index: 1000; opacity: 0; visibility: hidden; transition: opacity var(--transition-speed) var(--transition-func), visibility 0s linear var(--transition-speed); }
.modal { position: fixed; top: 50%; left: 50%; background-color: var(--panel-bg); color: var(--text-color); padding: 25px 30px; border-radius: 10px; box-shadow: 0 5px 20px var(--panel-shadow); z-index: 1010; width: 90%; max-width: 500px; display: flex; flex-direction: column; max-height: 85vh; border: 1px solid var(--border-color); opacity: 0; visibility: hidden; transform: translate(-50%, -50%) scale(0.95); transition: opacity var(--transition-speed) var(--transition-func), transform var(--transition-speed) var(--transition-func), visibility 0s linear var(--transition-speed), background-color var(--transition-speed) var(--transition-func), color var(--transition-speed) var(--transition-func), border-color var(--transition-speed) var(--transition-func); }
.modal.visible, .modal-overlay.visible { opacity: 1; visibility: visible; transform: translate(-50%, -50%) scale(1); transition-delay: 0s; }
.modal-overlay.visible { transform: none; }
.modal h3 { margin-top: 0; margin-bottom: 15px; color: var(--text-color); text-align: center; flex-shrink: 0; }
.modal button.close { position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 1.8em; color: var(--text-muted-color); cursor: pointer; line-height: 1; padding: 0; transition: color var(--transition-speed) var(--transition-func); }
.modal button.close:hover { color: var(--text-color); }
.settings-modal { max-width: 400px; z-index: 1012; }
.settings-modal .settings-content { display: flex; flex-direction: column; gap: 25px; flex-grow: 1; overflow-y: auto; padding: 10px 0; }
.settings-modal .setting-item { display: flex; flex-direction: column; gap: 8px; }
.settings-modal .setting-item label:not(.radio-group label) { font-weight: 500; color: var(--text-muted-color); font-size: 0.9em; margin-bottom: 4px; }
.settings-modal input[type="color"] { width: 100%; height: 35px; border: 1px solid var(--input-border); border-radius: 4px; cursor: pointer; padding: 2px; box-sizing: border-box; background-color: var(--input-bg); transition: border-color var(--transition-speed) var(--transition-func), background-color var(--transition-speed) var(--transition-func); }
.settings-modal fieldset { border: 1px solid var(--fieldset-border); border-radius: 5px; padding: 15px; margin: 0; transition: border-color var(--transition-speed) var(--transition-func); }
.settings-modal legend { font-weight: 500; padding: 0 8px; color: var(--text-muted-color); font-size: 0.9em; transition: color var(--transition-speed) var(--transition-func); }
.settings-modal .radio-group { display: flex; gap: 20px; justify-content: flex-start; padding-left: 5px; }
.settings-modal .radio-group label { display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 1em; color: var(--text-color); transition: color var(--transition-speed) var(--transition-func); }
.settings-modal input[type="radio"] { cursor: pointer; accent-color: var(--accent-color); width: 16px; height: 16px; transition: accent-color var(--transition-speed) var(--transition-func); }

/* --- Responsivität (Unverändert) --- */
@media (max-width: 768px) {
    .login-container { width: 90%; margin: 40px auto; padding: 20px; }
    .dashboard-container { padding: 20px; padding-top: 70px; }
    .dashboard-grid { grid-template-columns: 1fr; gap: 20px; }
    .top-right-buttons { top: 15px; right: 15px; gap: 8px; }
    .settings-button { width: 40px; height: 40px; font-size: 1.1em; }
    .modal { width: 95%; padding: 20px; }
}